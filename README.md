# Automatically-Triggered-Test-Tool-For-Android-Application
## Abstract(摘要)————刘楚舒负责
随着近年来Android系统上恶意应用数量的显著增加，对应用的恶意行为的检测变得刻不容缓。传统的人工测试需要测试人员花费大量的时间，对应用所有的程序逻辑进行逐个的尝试，才有可能发现其存在的某些恶意行为。Android自身提供的Monkey程序可以模拟用户对手机的操作，随机地产生用户事件流，比如点击、触摸、手势等事件。然而因为其产生的用户事件具有较大的随机性，测试的效率不尽如人意。本文提出并实现了一个根据应用的界面元素，模拟用户对应用的操作，自动地触发应用所有的程序逻辑的Android应用自动化测试工具。经过测试，它对大部分Android手机应用都能做完整的测试，帮助动态测试工具发现其恶意行为。
  
## Introduction(简介)————刘楚舒负责
分成以下三段：<br>
第一段：概要地介绍“为什么需要自动触发测试技术<br>
最近几年以来，随着移动设备不断的更新换代，功能不断的提升，更多的人在购买电子设备时更倾向于选择手机或者平板电脑而不是PC机。Android系统是目前最流行的移动设备操作系统，调研机构Strategy Analytics在2014年第三季度的报告中显示，Android以83.6%的市场占有率稳居移动操作系统市场之首【1】。相应的，Android平台的恶意软件数量也占有最高的比重，安全公司F-Secure在2013下半年发布的威胁研究报告中称，Android系统的恶意软件占所有手机恶意软件的97％【2】。数量庞大的恶意软件，对Android用户的隐私安全、财产安全等造成了严重的影响【3】【4】。因此，对Android恶意软件的检测刻不容缓。<br>
第二段：现有自动触发测试工具的不足<br>
然而，传统的手工测试存在着费时、费人工以及测试不完全等问题，测试人员需要花费大量的时间，对应用的所有程序逻辑都进行逐个的尝试，并且由于应用的某些设计方法较为新颖，测试者不一定能够触发所有的程序逻辑。所以，安全厂商和研究机构亟需能够代替人工的测试工具对应用进行自动化测试。这种自动化测试工具能够根据应用的UI界面，动态地产生用户事件，并且保证触发所有的程序通路，即使应用崩溃也能继续测试。但是，现有的工具并不能达到以上要求。例如，Android自身提供的Monkey程序，它只能产生随机的用户事件，如果程序崩溃则无法继续测试；UIAutomator可以对应用的UI界面做精确的测试，但是它无法根据应用UI界面自动地生成测试代码，而是需要测试者对每个应用都编写测试程序；Robotium存在着与UIAutomator相同的问题。本文实现的Android自动化测试工具可以根据应用的UI界面自动地产生用户事件，驱动应用程序完成所有的程序逻辑，记录导致应用崩溃的用户事件流，达到完全不需要测试人员编写代码的功能。<br>
第三段：本文的结构<br>
本文以如下方式组织：第二节介绍了Android自动化测试的相关工作；在第三节中，我们提出了自己的思路和方法；第四、第五、第六节中我们分别介绍了Monkey、MonkeyRunner和HierarchyViewer，因为我们在实现中使用到了这几种工具；第七、第八节是我们的自动化测试工具的实现细节；第九节展示了实验结果，并与其他工具做对比；最后一节对我们的方法进行了总结。<br>
  
## Related Works(相关工作)————高跃进负责
目前相关的工作只找到了北邮硕士毕业论文

## Approach(方法)————刘楚舒负责
在我们的工具里，首先会通过调用Shell命令完成待测APK的安装，然后使用Android的设备接口实现程序和模拟器的连接，通过这个连接完成打开Activity等一系列工作。这时，我们使用HierarchyViewer提供的接口完成对UI界面的解析，获取各个控件的ID值，对每个控件都逐个遍历，确保所有的控件都能够被触发。由于Android应的Activity存储于类似于栈的数据结构中，我们通过树的先序遍历的方式访问应用中所有的UI界面，确保所有的程序逻辑都能够被执行。
  
## Monkey介绍————刘楚舒负责
Monkey介绍内容
  
## Monkey Runner介绍————刘楚舒负责
Monkey Runner介绍内容
  
## Hierarchy Viewer介绍————高跃进负责
Hierarchy Viewer介绍内容
HierarchyViewer是Android SDK包中一个非常好用的工具，你可以在android-sdks/tools目录下可以找到它。通过HierarchyViewer，即使没有应用的源代码，我们也可以非常直观地浏览Activity中控件的层次架构图，以及每个控件的属性和截图。
## 获取界面元素————高跃进负责
介绍我们的程序获取Android应用界面元素的技术细节
  
## 先序遍历的方法————刘楚舒负责
这里有问题待定
  
## Evaluation(实验结果)————高跃进负责
展示实验截图等
  
## Conclusion(总结)————高跃进负责

## References(参考文献)————高跃进负责
